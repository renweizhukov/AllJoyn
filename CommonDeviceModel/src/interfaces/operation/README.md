# CDM standard interfaces

## 1. Create headers and source files.

### 1.1 Use the python script to generate the prototype headers and source files from the templates.

The headers and source files of the CDM standard interfaces here are generated by using the python script ${AJ_ROOT}/services/cdm/cpp/code_template/make_interface.py. The python script is fairly primitive and it simply substitutes certain strings in the template headers and source files in ${AJ_ROOT}/services/cdm/cpp/code_template/interface_template by the interface name.

```bash
$ python make_interface.py -n OffControl -c Operation
$ python make_interface.py -n OnOffStatus -c Operation
```

Note that although the xml which defines the CDM standard interface in ${AJ_ROOT}/services/cdm/cpp/code_template/xml is needed, it is provided only for informational and test purposes and is not used for generating the headers and source files.

### 1.2 Edit by hand the python-generated headers and source files. 

Specifically, we need to 

1. For property:

    * Add the property name.
    * Add the property member variable and the get/set method in controllee.
    * Add the function for requesting the get/set property call and the callback function for handling the response of the get/set propery call in controller.

1. For method:

    * Add the method name.
    * Add the method handler in controllee.
    * Add the function for requesting the method call and the callback function for handling the response of the method call in controller.

## 2. Build source files.

The headers and source files are essentially identical to those in ${AJ_ROOT}/services/cdm/cpp/src/interfaces and they are built into the CDM library liballjoyn_cdm.so, so they are not built here.
